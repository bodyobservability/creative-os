schema_version: 1
name: HVLIEN_VRL_BUILD_ASSETS
goal: Create the Control Rack (.adg) and Bass Template (.als) on macOS Ableton Live 12.3.
assumptions:
  ableton:
    version: "12.3"
    theme: default
    window: maximized
    browser_visible: true
    device_view_visible: true
  voice_control:
    overlays: numbers_grid
    dictation: enabled
  midi:
    bus: WUB_VOICE
    channel: 1

steps:
  - section: Create Control Rack on BassLead track
  - say: "Show numbers"
  - say: "Click"                       # focus Ableton
  - say: "Press Command Option L"       # device view on
  - say: "Press Command Option B"       # browser on

  - say: "Click BassLead"               # select target track
  - say: "Click Search"
  - dictate: "Instrument Rack"
  - say: "Press Enter"                  # insert rack (or double click browser result)

  - say: "Show Macros"                  # ensure macro section visible
  - say: "Rename Macro 1"
  - dictate: "Energy"
  - say: "Rename Macro 2"
  - dictate: "Motion"
  - say: "Rename Macro 3"
  - dictate: "Tone"
  - say: "Rename Macro 4"
  - dictate: "Texture"
  - say: "Rename Macro 5"
  - dictate: "Width"
  - say: "Rename Macro 6"
  - dictate: "Space"
  - say: "Rename Macro 7"
  - dictate: "Impact"
  - say: "Rename Macro 8"
  - dictate: "Morph"

  - section: Map runtime MIDI triggers in MIDI Map Mode
  - say: "Enter MIDI Map Mode"
  - say: "Click Motion"                 # Macro 2
  - say: "wub down"                     # CC14=32 (from runtime mapping)
  - say: "Click Motion"
  - say: "wub up"                       # CC14=96

  - say: "Click Tone"                   # Macro 3
  - say: "close filter"                 # CC21=40
  - say: "Click Tone"
  - say: "open filter"                  # CC21=110

  - say: "Exit MIDI Map Mode"

  - section: Save Control Rack preset
  - say: "Press Command S"
  - dictate: "HVLIEN_VRL_ControlRack"
  - say: "Press Enter"

  - section: Save Template ALS
  - say: "Press Command Shift S"
  - dictate: "HVLIEN_BASS_TEMPLATE_VRL"
  - say: "Press Enter"

notes:
  - This recipe assumes Voice Control can target macro label renames; if it cannot, use grid clicks over macro labels then Command+R.
  - After creation, run the verification plan in this bundle to confirm macro labels and mapping preconditions exist.
